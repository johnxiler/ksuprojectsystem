{% extends 'home.html' %}

{%block content %}
<center><h3><a style="color:#fff;" href="{% url 'evaluation' %}">Add new faculty rating</a></h3></center>
  <hr>
  <center><div>
    <table class='head-table'>
        <thead>
          <tr>
            <th>Scale</th>
            <th>Descriptive Rating</th>
            <th>Qualitative Description</th>
            </tr>
        </thead>
        <tbody> 
              <tr>
                <td>5</td>
                <td>Outstanding</td>
                <td>Performance is exceptional</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Very Satisfactory</td>
                <td>Performance always exceeds the requirements</td>
              </tr>
              <tr>
                <td>3</td>
                <td>Satisfactory</td>
                <td>Performance meets the requirements</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Fair</td>
                <td>Performance need some enhancement to meet job requirements</td>
              </tr>
              <tr>
                <td>1</td>
                <td>Poor</td>
                <td>Performance failed to meet job requirements</td>
              </tr>
        </tbody>
    </table>
</div></center>
<hr>
<br>
<center><h4>Faculty Evaluations</h4></center>
{% comment %} <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Last Name</th>
          <th>First Name</th>
          <th>Middle Name</th>
          <th>Rank</th>
          <th>Course Title</th>
          <th>Subject</th>
          <th>Semester</th>
          <th>Year</th>
          <th>Evaluator</th>
          <th>Course Objectives</th>
          <th>Delivering Material</th>
          <th>Engaging to Students</th>
          <th>Responding to Questions</th>
          <th>Providing Feedback</th>
          <th>Inclusive Environment</th>
          <th>Using Technology</th>
          <th>Promoting Critical Thinking</th>
          <th>Challenging to Students</th>
          <th>Satisfaction</th>
          <th>Comments</th>
          <th>Total Average</th>
          <th>Actions</th>
          
        </tr>
      </thead>
      <tbody>
        {% for evaluation in evaluations %}
          <tr>
            <td>{{ evaluation.faculty_Lname }}</td>
            <td>{{ evaluation.faculty_Fname }}</td>
            <td>{{ evaluation.faculty_Mname }}</td>
            <td>{{ evaluation.faculty_rank }}</td>
            <td>{{ evaluation.course_title }}</td>
            <td>{{ evaluation.subject_title }}</td>
            <td>{{ evaluation.semester }}</td>
            <td>{{ evaluation.year }}</td>
            <td>{{ evaluation.evaluator }}</td>
            <td>{{ evaluation.communication }}</td>
            <td>{{ evaluation.delivery }}</td>
            <td>{{ evaluation.engagement }}</td>
            <td>{{ evaluation.responsiveness }}</td>
            <td>{{ evaluation.feedback }}</td>
            <td>{{ evaluation.inclusiveness }}</td>
            <td>{{ evaluation.technology }}</td>
            <td>{{ evaluation.critical_thinking }}</td>
            <td>{{ evaluation.motivation }}</td>
            <td>{{ evaluation.satisfaction }}</td>
            <td>{{ evaluation.comments }}</td>
            <td>{{ evaluation.total_average }}</td>
            <td>
              <div><a style="color:white;" href="{% url 'edit_evaluation' evaluation.pk %}">Edit</a></div>
              <form method="post" action="{% url 'delete_evaluation' evaluation.pk %}" id="delete-form">
                {% csrf_token %}
                <input type="button" value="Delete" onclick="showConfirm()">
            </form>
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="11">No survey ratings yet.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>  
</div>
<script>
  function showConfirm() {
      if (confirm("Are you sure you want to delete this evaluation?")) {
          document.getElementById("delete-form").submit();
      } else {
          return false;
      }
  } {% endcomment %}

{% comment %} /* const table = document.querySelector('table');
const thead = document.createElement('thead');
const tbody = document.createElement('tbody');

// Array of header names
const headerNames = ['Last Name',
'First Name',
'Middle Name',
'Rank',
'Course Title',
'Subject',
'Semester',
'Year',
'Evaluator',
'Course Objectives',
'Delivering Material',
'Engaging to Students',
'Responding to Questions',
'Providing Feedback',
'Inclusive Environment',
'Using Technology',
'Promoting Critical Thinking',
'Challenging to Students',
'Satisfaction',
'Comments',
'Total Average',
'Actions',];

// Generate table headers
const headerRow = document.createElement('tr');
headerNames.forEach(headerName => {
  const th = document.createElement('th');
  th.textContent = headerName;
  headerRow.appendChild(th);
});
thead.appendChild(headerRow);

// Generate table rows
for (let i = 1; i <= 22; i++) {
  const row = document.createElement('tr');
  
  for (let j = 0; j < headerNames.length; j++) {
    const cell = document.createElement('td');
    cell.textContent = `Row ${i} Column ${j + 1}`;
    row.appendChild(cell);
  }
  
  tbody.appendChild(row);
}

// Append thead and tbody to the table
table.appendChild(thead);
table.appendChild(tbody);*/
</script> {% endcomment %}
<div class="mb-3">
<table id="myTable" class="table app-table-hover mb-0 text-left">
  <thead>
    <tr>
      <th class="cell">Last Name</th>
      <th class="cell">First Name</th>
      <th class="cell">Middle Name</th>
            <th class="cell">Rank</th>
      <th class="cell">Semester</th>
      <th class="cell">Subject Code</th>
      <th class="cell">Total Average</th>
      <th class="cell">Year</th>
      <th class="cell">Evaluator</th>
    </tr>
  </thead>
  <tbody>
    {% csrf_token %}
    {% for evaluation in evaluations %}
    <tr>
      <td class="cell">{{ evaluation.faculty_Lname }}</td>
      <td class="cell">{{ evaluation.faculty_Fname }}</td>
      <td class="cell">{{ evaluation.faculty_Mname }}</td>
      <td class="cell">{{ evaluation.faculty_rank }}</td>
      <td class="cell">{{ evaluation.semester }}</td>
      <td class="cell">{{evaluation.subject_title}}</td>
      <td class="cell">{{ evaluation.total_average }}</td>
      <td class="cell">{{ evaluation.year }}</td>
      <td class="cell">{{ evaluation.evaluator }}</td>
      <td>
        <div><a style="color:green;" href="{% url 'edit_evaluation' evaluation.pk %}">Edit</a></div>
      </td>
      <td>
        <form method="post" action="{% url 'delete_evaluation' evaluation.pk %}" id="delete-form">
          {% csrf_token %}
          <input type="button" value="Delete" onclick="showConfirm()">
      </form>
      </td>
    </tr>
  {% empty %}
    <tr>
      <td colspan="11">No survey ratings yet.</td>
    </tr>
  {% endfor %}
    </tr>
  </tbody>
</table>
</div>
<script>
  function showConfirm() {
      if (confirm("Are you sure you want to delete this evaluation?")) {
          document.getElementById("delete-form").submit();
      } else {
          return false;
      }
  } 
</script>
{% endblock %}